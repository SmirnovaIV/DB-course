<?php
 function system_is_allowed($v22884db148f0ffb0d830ba431102b0b5, $vea9f6aca279138c58f705c8d4cb4b8ce = false, $v7057e8409c7c531a1a6e9ac3df4ed549 = false) {static $v0fea6a13c52b4d4725368f24b045ca84 = Array();static $ve8701ad48ba05a91604e480dd60899a3 = false;if($ve8701ad48ba05a91604e480dd60899a3 == false) {$va178a6b6ad454764f5d724e7f96e75b7 = cmsController::getInstance()->getModule("users");if($va178a6b6ad454764f5d724e7f96e75b7) {$ve8701ad48ba05a91604e480dd60899a3 = $va178a6b6ad454764f5d724e7f96e75b7->user_id;}}$vd5a5b3dd1ccb90d30360f0c068fd43fc = md5($v22884db148f0ffb0d830ba431102b0b5 . $vea9f6aca279138c58f705c8d4cb4b8ce . $v7057e8409c7c531a1a6e9ac3df4ed549);if(array_key_exists($vd5a5b3dd1ccb90d30360f0c068fd43fc, $v0fea6a13c52b4d4725368f24b045ca84)) return $v0fea6a13c52b4d4725368f24b045ca84[$vd5a5b3dd1ccb90d30360f0c068fd43fc];$vbc54f4d60f1cec0f9a6cb70e13f2127a = permissionsCollection::getInstance();$v834239295ea6020233dda11b3d85af21 = $vbc54f4d60f1cec0f9a6cb70e13f2127a->isSv($ve8701ad48ba05a91604e480dd60899a3);if($v834239295ea6020233dda11b3d85af21) {return $v0fea6a13c52b4d4725368f24b045ca84[$vd5a5b3dd1ccb90d30360f0c068fd43fc] = true;}if($vea9f6aca279138c58f705c8d4cb4b8ce == "config" || ($v22884db148f0ffb0d830ba431102b0b5 == "config" && $vea9f6aca279138c58f705c8d4cb4b8ce == false)) {return false;}if($v7057e8409c7c531a1a6e9ac3df4ed549 !== false && $v7057e8409c7c531a1a6e9ac3df4ed549 !== 0 && !is_null($v7057e8409c7c531a1a6e9ac3df4ed549)) {list($v4b43b0aee35624cd95b910189b3dc231, $vf1290186a5d0b1ceab27f4e77c0c5d68) = $vbc54f4d60f1cec0f9a6cb70e13f2127a->isAllowedObject($ve8701ad48ba05a91604e480dd60899a3, $v7057e8409c7c531a1a6e9ac3df4ed549);if(strstr($vea9f6aca279138c58f705c8d4cb4b8ce, "edit") !== false) {return $v0fea6a13c52b4d4725368f24b045ca84[$vd5a5b3dd1ccb90d30360f0c068fd43fc] = $vf1290186a5d0b1ceab27f4e77c0c5d68;}else {return $v0fea6a13c52b4d4725368f24b045ca84[$vd5a5b3dd1ccb90d30360f0c068fd43fc] = $v4b43b0aee35624cd95b910189b3dc231;}}if($vea9f6aca279138c58f705c8d4cb4b8ce !== false && $vea9f6aca279138c58f705c8d4cb4b8ce) {if($v22884db148f0ffb0d830ba431102b0b5 == "system" || $v22884db148f0ffb0d830ba431102b0b5 == "core" || $v22884db148f0ffb0d830ba431102b0b5 == "custom") return $v0fea6a13c52b4d4725368f24b045ca84[$vd5a5b3dd1ccb90d30360f0c068fd43fc] = true;return $v0fea6a13c52b4d4725368f24b045ca84[$vd5a5b3dd1ccb90d30360f0c068fd43fc] = $vbc54f4d60f1cec0f9a6cb70e13f2127a->isAllowedMethod($ve8701ad48ba05a91604e480dd60899a3, $v22884db148f0ffb0d830ba431102b0b5, $vea9f6aca279138c58f705c8d4cb4b8ce);}if($v22884db148f0ffb0d830ba431102b0b5 !== false) {return $v0fea6a13c52b4d4725368f24b045ca84[$vd5a5b3dd1ccb90d30360f0c068fd43fc] = $vbc54f4d60f1cec0f9a6cb70e13f2127a->isAllowedModule($ve8701ad48ba05a91604e480dd60899a3, $v22884db148f0ffb0d830ba431102b0b5);}}function system_get_tpl($v15d61712450a686a7f365adf4fef581f = 'default') {$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();showWorkTime("system mainconfig init");$v594c103f2c6e04c3d8ab059f031e0c1a = cmsController::getInstance();showWorkTime("system cmscontroller init");$v74c17e3010c33af858d215cfc3552b04 = '';$v5b063e275d506f65ebf1b02d926f19a4 = '';$v47826cacc65c665212b821e6ff80b9b0 = '';if ($v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentMode() == 'admin' && $v15d61712450a686a7f365adf4fef581f == 'current') {$v599dcce2998a6b40b1e38e8c6006cb0a = 'xslt';$v6f66e878c62db60568a3487869695820 = 'xslAdminTemplater';$v5b063e275d506f65ebf1b02d926f19a4 = 'main.xsl';$v74c17e3010c33af858d215cfc3552b04 = $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.skins', array('skin' => system_get_skinName()));$v41275a535677f79ff347e01bc530c176 = permissionsCollection::getInstance();$v8e44f0089b076e18a718eb9ca3d94674 = $v41275a535677f79ff347e01bc530c176->getUserId();$vca02d1555c813b1b1ad637654c0fe111 = $v41275a535677f79ff347e01bc530c176->isAllowedMethod($v8e44f0089b076e18a718eb9ca3d94674, $v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentModule(), $v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentMethod());if((!$v41275a535677f79ff347e01bc530c176->isAdmin() || !$vca02d1555c813b1b1ad637654c0fe111) && file_exists($v74c17e3010c33af858d215cfc3552b04 . 'main_login.xsl')) {if($v41275a535677f79ff347e01bc530c176->isAuth()) {$v90f805bfcba6ab75df4ad6da8e6afd9b = "owner_id = {$v8e44f0089b076e18a718eb9ca3d94674}";$v8e59688c095c0b0bad04d8476df25db3 = umiObjectsCollection::getInstance()->getObject($v8e44f0089b076e18a718eb9ca3d94674)->getValue('groups');foreach ($v8e59688c095c0b0bad04d8476df25db3 as $vf2f5fbe4a9d4cc9a39e7a62a513580e9) {$v90f805bfcba6ab75df4ad6da8e6afd9b .= " or owner_id = {$vf2f5fbe4a9d4cc9a39e7a62a513580e9}";}$vac5c74b64b4b8352ef2f181affb5ac2a = "SELECT `module` FROM cms_permissions WHERE (" . $v90f805bfcba6ab75df4ad6da8e6afd9b . ") and (method = '' or method is null)";$result = l_mysql_query($vac5c74b64b4b8352ef2f181affb5ac2a);if (mysql_num_rows($result) !==0) {$vb1444fb0c07653567ad325aa25d4e37a = regedit::getInstance();while ($vf1965a857bc285d26fe22023aa5ab50d = mysql_fetch_array($result)){$v22884db148f0ffb0d830ba431102b0b5 = $vf1965a857bc285d26fe22023aa5ab50d[0];$vea9f6aca279138c58f705c8d4cb4b8ce = $vb1444fb0c07653567ad325aa25d4e37a->getVal("//modules/{$v22884db148f0ffb0d830ba431102b0b5}/default_method_admin");if ($v41275a535677f79ff347e01bc530c176->isAllowedMethod($v8e44f0089b076e18a718eb9ca3d94674, $v22884db148f0ffb0d830ba431102b0b5, $vea9f6aca279138c58f705c8d4cb4b8ce)) {def_module::redirect('http://' . $v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentDomain()->getHost() . '/admin/'. $v22884db148f0ffb0d830ba431102b0b5 . '/' . $vea9f6aca279138c58f705c8d4cb4b8ce);break;}}}}$v5b063e275d506f65ebf1b02d926f19a4 = 'main_login.xsl';}$v47826cacc65c665212b821e6ff80b9b0 = $v74c17e3010c33af858d215cfc3552b04 . $v5b063e275d506f65ebf1b02d926f19a4;}else {$v4091345e6f9742cda418c2e209b8a18c = templatesCollection::getInstance();$v4f2afc9c4099ee1f39c9f551123e54bd = false;if ($v74f5356453a69e438e0f58ef93103cc0 = getRequest('template_id')) {$v4f2afc9c4099ee1f39c9f551123e54bd = $v4091345e6f9742cda418c2e209b8a18c->getTemplate($v74f5356453a69e438e0f58ef93103cc0);}if (!$v4f2afc9c4099ee1f39c9f551123e54bd instanceof template) {$v4f2afc9c4099ee1f39c9f551123e54bd = ($v15d61712450a686a7f365adf4fef581f == 'current') ? $v4091345e6f9742cda418c2e209b8a18c->getCurrentTemplate() : $v4091345e6f9742cda418c2e209b8a18c->getDefaultTemplate();}if ($v4f2afc9c4099ee1f39c9f551123e54bd instanceof template) {$v5b063e275d506f65ebf1b02d926f19a4 = $v4f2afc9c4099ee1f39c9f551123e54bd->getFilename();$v918d83c715c19dd93ff49f87e2fae0b3 = $v4f2afc9c4099ee1f39c9f551123e54bd->getName();$v599dcce2998a6b40b1e38e8c6006cb0a = $v4f2afc9c4099ee1f39c9f551123e54bd->getType();if (!$v599dcce2998a6b40b1e38e8c6006cb0a) {switch (array_pop(explode('.', $v5b063e275d506f65ebf1b02d926f19a4))) {case "xsl":$v599dcce2998a6b40b1e38e8c6006cb0a = 'xslt';break;case "tpl":$v599dcce2998a6b40b1e38e8c6006cb0a = 'tpls';break;}}$v0e2d056dfa17731ff69524908f6ad7df = CURRENT_WORKING_DIR . '/templates/'.$v918d83c715c19dd93ff49f87e2fae0b3.'/'.$v599dcce2998a6b40b1e38e8c6006cb0a.'/';switch ($v599dcce2998a6b40b1e38e8c6006cb0a) {case "xslt":      $v74c17e3010c33af858d215cfc3552b04 = (file_exists($v0e2d056dfa17731ff69524908f6ad7df . $v5b063e275d506f65ebf1b02d926f19a4)) ? $v0e2d056dfa17731ff69524908f6ad7df : $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.xsl');$v6f66e878c62db60568a3487869695820 = 'xslTemplater';break;case "tpls":      $v74c17e3010c33af858d215cfc3552b04 = (file_exists($v0e2d056dfa17731ff69524908f6ad7df . 'content/' . $v5b063e275d506f65ebf1b02d926f19a4)) ? $v0e2d056dfa17731ff69524908f6ad7df : $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.tpl');$v6f66e878c62db60568a3487869695820 = 'tplTemplater';break;default :      $v74c17e3010c33af858d215cfc3552b04 = (file_exists($v0e2d056dfa17731ff69524908f6ad7df . $v5b063e275d506f65ebf1b02d926f19a4)) ? $v0e2d056dfa17731ff69524908f6ad7df : '';$v6f66e878c62db60568a3487869695820 = (file_exists(dirname(__FILE__) . '/' . $v599dcce2998a6b40b1e38e8c6006cb0a . '/' . $v599dcce2998a6b40b1e38e8c6006cb0a . 'Templater.php')) ? $v599dcce2998a6b40b1e38e8c6006cb0a . 'Templater' : '';}if ($v15d61712450a686a7f365adf4fef581f == 'streams') {$v6f66e878c62db60568a3487869695820 = 'xslTemplater';$v599dcce2998a6b40b1e38e8c6006cb0a      = 'xslt';$v74c17e3010c33af858d215cfc3552b04   = $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.xsl');$v5b063e275d506f65ebf1b02d926f19a4  = 'sample.xsl';}if (system_is_mobile() && file_exists($v74c17e3010c33af858d215cfc3552b04 . 'mobile/' . $v5b063e275d506f65ebf1b02d926f19a4)) {$v74c17e3010c33af858d215cfc3552b04 = $v74c17e3010c33af858d215cfc3552b04 . 'mobile/';}$v47826cacc65c665212b821e6ff80b9b0 = $v74c17e3010c33af858d215cfc3552b04 . ($v599dcce2998a6b40b1e38e8c6006cb0a == 'tpls' ? 'content/' : '') . $v5b063e275d506f65ebf1b02d926f19a4;}else if ($v15d61712450a686a7f365adf4fef581f == 'default' || $v15d61712450a686a7f365adf4fef581f == 'streams') {$v6f66e878c62db60568a3487869695820 = 'xslTemplater';$v599dcce2998a6b40b1e38e8c6006cb0a      = 'xslt';$v74c17e3010c33af858d215cfc3552b04   = $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.xsl');$v47826cacc65c665212b821e6ff80b9b0  = $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.xsl') . 'sample.xsl';}else {$v7f2db423a49b305459147332fb01cf87 = outputBuffer::current();$v7f2db423a49b305459147332fb01cf87->clear();$v7f2db423a49b305459147332fb01cf87->push(file_get_contents(SYS_ERRORS_PATH . 'no_design_template.html'));$v7f2db423a49b305459147332fb01cf87->end();}}$v21ffce5b8a6cc8cc6a41448dd69623c9 = array(   'class_name' => $v6f66e878c62db60568a3487869695820,   'type'       => $v599dcce2998a6b40b1e38e8c6006cb0a,   'dir_path'   => $v74c17e3010c33af858d215cfc3552b04,   'file_path'  => $v47826cacc65c665212b821e6ff80b9b0  );return $v21ffce5b8a6cc8cc6a41448dd69623c9;}function system_get_skinName() {static $vc4e10f4477cadef194adfceb6031a35c;if ($vc4e10f4477cadef194adfceb6031a35c) return $vc4e10f4477cadef194adfceb6031a35c;$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();$v594c103f2c6e04c3d8ab059f031e0c1a = cmsController::getInstance();$v9ae27e53b3777ca1a186c1b6e7480b88 = $v2245023265ae4cf87d02c8b6ba991139->getList('casual-skins');$vddaa6e8c8c412299272e183087b8f7b6 = $v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentModule() . '::' . $v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentMethod();foreach($v9ae27e53b3777ca1a186c1b6e7480b88 as $v98ea47e4311222ae5ccb6b11855b8968) {if(in_array($vddaa6e8c8c412299272e183087b8f7b6, $v2245023265ae4cf87d02c8b6ba991139->get('casual-skins', $v98ea47e4311222ae5ccb6b11855b8968))) {return $vc4e10f4477cadef194adfceb6031a35c = $v98ea47e4311222ae5ccb6b11855b8968;}}$vada1fd05db818d2ce8b75dcbcfbc5efd = $v2245023265ae4cf87d02c8b6ba991139->get('system', 'skins');if(isset($_GET['skin_sel']) || isset($_POST['skin_sel'])) {if(is_null($vb75604f619867058aa706f3a1dc5bd34 = getArrayKey($_GET, 'skin_sel'))) {$vb75604f619867058aa706f3a1dc5bd34 = getArrayKey($_POST, 'skin_sel');}setcookie('skin_sel', $vb75604f619867058aa706f3a1dc5bd34, time() + 3600*24*365, '/');if(in_array($vc4e10f4477cadef194adfceb6031a35c, $vada1fd05db818d2ce8b75dcbcfbc5efd)) {return $vc4e10f4477cadef194adfceb6031a35c = $vb75604f619867058aa706f3a1dc5bd34;}}if(getCookie('skin_sel')) {if(in_array(getCookie('skin_sel'), $vada1fd05db818d2ce8b75dcbcfbc5efd)) {return $vc4e10f4477cadef194adfceb6031a35c = getCookie('skin_sel');}}return $vc4e10f4477cadef194adfceb6031a35c = $v2245023265ae4cf87d02c8b6ba991139->get('system', 'default-skin');}function system_buildin_load($v52a43e48ec4649dee819dadabcab1bde) {static $vd6fd0924e324f50669ae0295adf59567 = Array();if(isset($vd6fd0924e324f50669ae0295adf59567[$v52a43e48ec4649dee819dadabcab1bde])) {return $vd6fd0924e324f50669ae0295adf59567[$v52a43e48ec4649dee819dadabcab1bde];}$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();$vc22d45567638173f6f7c953f54077fbd = $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.virtual-modules') . $v52a43e48ec4649dee819dadabcab1bde . ".php";if(file_exists($vc22d45567638173f6f7c953f54077fbd)) {require $vc22d45567638173f6f7c953f54077fbd;if(class_exists($v52a43e48ec4649dee819dadabcab1bde)) {return $vd6fd0924e324f50669ae0295adf59567[$v52a43e48ec4649dee819dadabcab1bde] = new $v52a43e48ec4649dee819dadabcab1bde;}}return false;}function system_remove_cache($v34823136d0dd91d0f5d22db740f7679c) {$v7f6a05a4bb9b16a1f4b36e9000d1bc3c = ini_get('include_path') . "cache";$v2b185f4da957c7d76b574a32e8b7d55e = md5($v34823136d0dd91d0f5d22db740f7679c);$v87a0860e170e57ac18a827962ccd6816 = $this->cacheFolder . "/" . $this->cacheFileName;if(file_exists($v87a0860e170e57ac18a827962ccd6816))   return unlink(md5($v87a0860e170e57ac18a827962ccd6816));else   return false;}function system_checkSession() {return is_array($_COOKIE) && array_key_exists("umicms_session", $_COOKIE);}function system_setSession() {$vd06f6e6e9128a2393b7358ff70124550 = md5(time());setcookie("umicms_session", $vd06f6e6e9128a2393b7358ff70124550, 0, "/");return $vd06f6e6e9128a2393b7358ff70124550;}function system_removeSession() {setcookie("umicms_session", null, time() - 3600, "/");}function system_getSession() {return getCookie("umicms_session");}function system_runSession() {if(!system_checkSession())   return system_setSession();else   return system_getSession();}function system_gen_password($v2fa47f7c65fec19cc163b195725e3844 = 12, $ve600074f5086bdfc5c11f7728f7d67f0 = "\$#@^&!1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM") {$vb5997cee0d1ef3e5f3f6dc7a8b3ad7d7 = "";for($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < $v2fa47f7c65fec19cc163b195725e3844;$v865c0c0b4ab0e063e5caa3387c1a8741++) {$vb5997cee0d1ef3e5f3f6dc7a8b3ad7d7 .= $ve600074f5086bdfc5c11f7728f7d67f0[rand(0, strlen($ve600074f5086bdfc5c11f7728f7d67f0)-1)];}return $vb5997cee0d1ef3e5f3f6dc7a8b3ad7d7;}function truncStr($v0b9f441f569478ce6777af257c2d5290, $vebb9639568218ed404aa24c55d7510c2="50", $v95dcc3576ee8f381b2683b15c126e9de="...", $v6bd0a84f7fc8978ff8ae76426b1a9034 = false) {$vdccc8c8d061984a56d899361b4934477 = $v0b9f441f569478ce6777af257c2d5290;if ($v6bd0a84f7fc8978ff8ae76426b1a9034) {$vdccc8c8d061984a56d899361b4934477 = html_entity_decode(strip_tags($vdccc8c8d061984a56d899361b4934477), ENT_QUOTES, "UTF-8");}if ($vebb9639568218ed404aa24c55d7510c2<=0) return '';if (wa_strlen($v0b9f441f569478ce6777af257c2d5290) > $vebb9639568218ed404aa24c55d7510c2) {$vebb9639568218ed404aa24c55d7510c2 -= wa_strlen($v95dcc3576ee8f381b2683b15c126e9de);$vdccc8c8d061984a56d899361b4934477 = wa_substr($vdccc8c8d061984a56d899361b4934477, 0, $vebb9639568218ed404aa24c55d7510c2+1);$vdccc8c8d061984a56d899361b4934477 = preg_replace('/\s+([^\s]+)?$/i', '', $vdccc8c8d061984a56d899361b4934477) . $v95dcc3576ee8f381b2683b15c126e9de;}return $vdccc8c8d061984a56d899361b4934477;}function toTimeStamp($v522748524ad010358705b6852b81be4c) {if(is_numeric($v522748524ad010358705b6852b81be4c)) return $v522748524ad010358705b6852b81be4c;$v628b7db04235f228d40adc671413a8c8 = "";$v7436f942d5ea836cb84f1bb2527d8286 = "";$v84cdc76cabf41bd7c961f6ab12f117d8 = "";$v73cdddd7730abfc13a55efb9f5685a3b = "";$v1442a7b6e2c20b27775175eecba84dac = "";$v522748524ad010358705b6852b81be4c = trim($v522748524ad010358705b6852b81be4c);if($v522748524ad010358705b6852b81be4c == "сейчас") {return time();}$v03c7c0ace395d80182db07ae2c30f034 = "[ \.\-\/\\\\]{1,10}";$v522748524ad010358705b6852b81be4c = str_replace("-", " ", $v522748524ad010358705b6852b81be4c);$v522748524ad010358705b6852b81be4c = str_replace(",", " ", $v522748524ad010358705b6852b81be4c);$v522748524ad010358705b6852b81be4c = str_replace("\\'", " ", $v522748524ad010358705b6852b81be4c);if(preg_match("/\d{2}\:\d{2}/", $v522748524ad010358705b6852b81be4c, $v3d801aa532c1cec3ee82d87a99fdf63f)) {$vee33e909372d935d190f4fcb2a92d542 = $v3d801aa532c1cec3ee82d87a99fdf63f[0];preg_replace("/\d{2}\:\d{2}/", "", $v522748524ad010358705b6852b81be4c);list($v73cdddd7730abfc13a55efb9f5685a3b, $v1442a7b6e2c20b27775175eecba84dac) = explode(":", $vee33e909372d935d190f4fcb2a92d542);}$v522748524ad010358705b6852b81be4c = preg_replace("/(\d{4})$v03c7c0ace395d80182db07ae2c30f034(\d{2})$v03c7c0ace395d80182db07ae2c30f034(\d{2})/im", "^\\3^ !\\2! ?\\1?", $v522748524ad010358705b6852b81be4c);$v522748524ad010358705b6852b81be4c = preg_replace("/(\d{1,2})$v03c7c0ace395d80182db07ae2c30f034(\d{1,2})$v03c7c0ace395d80182db07ae2c30f034(\d{2,4})/im", "^\\1^ !\\2! ?\\3?", $v522748524ad010358705b6852b81be4c);$v44fdec47036f482b68b748f9d786801b = Array(    'понедельник',    'вторник',    'среда',    'четверг',    'пятница',    'суббота',    'воскресенье'    );$vda36cfaf48b9e19896e23e1207040d1e = Array(    'январь',    'февраль',    'март',    'апрель',    'май',    'июнь',    'июль',    'август',    'сентябрь',    'октябрь',    'ноябрь',    'декабрь'    );$v89f9be9bb8d51a581889396a09f0fa23 = Array(    'января',    'февраля',    'марта',    'апреля',    'мая',    'июня',    'июля',    'августа',    'сентября',    'октября',    'ноября',    'декабря'    );$v4268edd30720dc59622c77e8031974bf = Array(    'янв',    'фев',    'мар',    'апр',    'май',    'июн',    'июл',    'авг',    'сен',    'окт',    'ноя',    'дек'    );$vf9cf10c5294f20d13f6bb53be58ef693 = Array(    '01',    '02',    '03',    '04',    '05',    '06',    '07',    '08',    '09',    '10',    '11',    '12'    );foreach($vda36cfaf48b9e19896e23e1207040d1e as $v8ce4b16b22b58894aa86c421e8759df3 => $v9e3669d19b675bd57058fd4664205d2a)   $vda36cfaf48b9e19896e23e1207040d1e[$v8ce4b16b22b58894aa86c421e8759df3] = "/" . $v9e3669d19b675bd57058fd4664205d2a . "/i";foreach($v89f9be9bb8d51a581889396a09f0fa23 as $v8ce4b16b22b58894aa86c421e8759df3 => $v9e3669d19b675bd57058fd4664205d2a)   $v89f9be9bb8d51a581889396a09f0fa23[$v8ce4b16b22b58894aa86c421e8759df3] = "/" . $v9e3669d19b675bd57058fd4664205d2a . "/i";foreach($v4268edd30720dc59622c77e8031974bf as $v8ce4b16b22b58894aa86c421e8759df3 => $v9e3669d19b675bd57058fd4664205d2a)   $v4268edd30720dc59622c77e8031974bf[$v8ce4b16b22b58894aa86c421e8759df3] = "/" . $v9e3669d19b675bd57058fd4664205d2a . "/i";foreach($vf9cf10c5294f20d13f6bb53be58ef693 as $v8ce4b16b22b58894aa86c421e8759df3 => $v9e3669d19b675bd57058fd4664205d2a) {$vf9cf10c5294f20d13f6bb53be58ef693[$v8ce4b16b22b58894aa86c421e8759df3] = " !" . $v9e3669d19b675bd57058fd4664205d2a . "! ";}$v522748524ad010358705b6852b81be4c = preg_replace($vda36cfaf48b9e19896e23e1207040d1e, $vf9cf10c5294f20d13f6bb53be58ef693, $v522748524ad010358705b6852b81be4c);$v522748524ad010358705b6852b81be4c = preg_replace($v89f9be9bb8d51a581889396a09f0fa23, $vf9cf10c5294f20d13f6bb53be58ef693, $v522748524ad010358705b6852b81be4c);$v522748524ad010358705b6852b81be4c = preg_replace($v4268edd30720dc59622c77e8031974bf, $vf9cf10c5294f20d13f6bb53be58ef693, $v522748524ad010358705b6852b81be4c);$v75aeb98e5241592ad6a6c2c4c78a16ef = Array(    '/(\d{2,4})[ ]*года/i',    '/(\d{2,4})[ ]*год/i',    '/(\d{2,4})[ ]*г/i',    '/(\d{4})/i',    );$v522748524ad010358705b6852b81be4c = preg_replace($v75aeb98e5241592ad6a6c2c4c78a16ef, "?\\1?", $v522748524ad010358705b6852b81be4c);$v522748524ad010358705b6852b81be4c = preg_replace("/[^!^\?^\d](\d{1,2})[^!^\?^\d]/i", "^\\1^", " ".$v522748524ad010358705b6852b81be4c." ");if(preg_match("/\^(\d{1,2})\^/", $v522748524ad010358705b6852b81be4c, $v710998fd1b7c0235170265650770a4b1)) {$v628b7db04235f228d40adc671413a8c8 = $v710998fd1b7c0235170265650770a4b1[1];if(strlen($v628b7db04235f228d40adc671413a8c8) == 1)    $v628b7db04235f228d40adc671413a8c8 = "0" . $v628b7db04235f228d40adc671413a8c8;}if(preg_match("/!(\d{1,2})!/", $v522748524ad010358705b6852b81be4c, $v710998fd1b7c0235170265650770a4b1)) {$v7436f942d5ea836cb84f1bb2527d8286 = $v710998fd1b7c0235170265650770a4b1[1];if(strlen($v7436f942d5ea836cb84f1bb2527d8286) == 1)    $v7436f942d5ea836cb84f1bb2527d8286 = "0" . $v7436f942d5ea836cb84f1bb2527d8286;}if(preg_match("/\?(\d{2,4})\?/", $v522748524ad010358705b6852b81be4c, $v710998fd1b7c0235170265650770a4b1)) {$v84cdc76cabf41bd7c961f6ab12f117d8 = $v710998fd1b7c0235170265650770a4b1[1];if(strlen($v84cdc76cabf41bd7c961f6ab12f117d8) == 2) {$v3691308f2a4c2f6983f2880d32e29c84 = (int) substr($v84cdc76cabf41bd7c961f6ab12f117d8, 0, 1);if( ($v3691308f2a4c2f6983f2880d32e29c84 >= 0 && $v3691308f2a4c2f6983f2880d32e29c84 <= 4))     $v84cdc76cabf41bd7c961f6ab12f117d8 = "20" . $v84cdc76cabf41bd7c961f6ab12f117d8;else     $v84cdc76cabf41bd7c961f6ab12f117d8 = "19" . $v84cdc76cabf41bd7c961f6ab12f117d8;}}if($v628b7db04235f228d40adc671413a8c8 > 31) {$ve358efa489f58062f10dd7316b65649e = $v84cdc76cabf41bd7c961f6ab12f117d8;$v84cdc76cabf41bd7c961f6ab12f117d8 = $v628b7db04235f228d40adc671413a8c8;$v628b7db04235f228d40adc671413a8c8 = $ve358efa489f58062f10dd7316b65649e;}if($v7436f942d5ea836cb84f1bb2527d8286 > 12) {$ve358efa489f58062f10dd7316b65649e = $v7436f942d5ea836cb84f1bb2527d8286;$v7436f942d5ea836cb84f1bb2527d8286 = $v628b7db04235f228d40adc671413a8c8;$v628b7db04235f228d40adc671413a8c8 = $ve358efa489f58062f10dd7316b65649e;unset($ve358efa489f58062f10dd7316b65649e);}$v3b84f8cfd144e7211160037ebacbf0e7 = trim(strtolower($v522748524ad010358705b6852b81be4c));switch($v3b84f8cfd144e7211160037ebacbf0e7) {case "сегодня":     $v4d682ec4eed27c53849758bc13b6e179 = time();$v84cdc76cabf41bd7c961f6ab12f117d8 = date("Y", $v4d682ec4eed27c53849758bc13b6e179);$v7436f942d5ea836cb84f1bb2527d8286 = date("m", $v4d682ec4eed27c53849758bc13b6e179);$v628b7db04235f228d40adc671413a8c8 = date("d", $v4d682ec4eed27c53849758bc13b6e179);break;case "завтра":     $v4d682ec4eed27c53849758bc13b6e179 = time() + (3600*24);$v84cdc76cabf41bd7c961f6ab12f117d8 = date("Y", $v4d682ec4eed27c53849758bc13b6e179);$v7436f942d5ea836cb84f1bb2527d8286 = date("m", $v4d682ec4eed27c53849758bc13b6e179);$v628b7db04235f228d40adc671413a8c8 = date("d", $v4d682ec4eed27c53849758bc13b6e179);break;case "вчера":     $v4d682ec4eed27c53849758bc13b6e179 = time() - (3600*24);$v84cdc76cabf41bd7c961f6ab12f117d8 = date("Y", $v4d682ec4eed27c53849758bc13b6e179);$v7436f942d5ea836cb84f1bb2527d8286 = date("m", $v4d682ec4eed27c53849758bc13b6e179);$v628b7db04235f228d40adc671413a8c8 = date("d", $v4d682ec4eed27c53849758bc13b6e179);break;case "послезавтра":     $v4d682ec4eed27c53849758bc13b6e179 = time() + (3600*48);$v84cdc76cabf41bd7c961f6ab12f117d8 = date("Y", $v4d682ec4eed27c53849758bc13b6e179);$v7436f942d5ea836cb84f1bb2527d8286 = date("m", $v4d682ec4eed27c53849758bc13b6e179);$v628b7db04235f228d40adc671413a8c8 = date("d", $v4d682ec4eed27c53849758bc13b6e179);break;case "позавчера":     $v4d682ec4eed27c53849758bc13b6e179 = time() - (3600*48);$v84cdc76cabf41bd7c961f6ab12f117d8 = date("Y", $v4d682ec4eed27c53849758bc13b6e179);$v7436f942d5ea836cb84f1bb2527d8286 = date("m", $v4d682ec4eed27c53849758bc13b6e179);$v628b7db04235f228d40adc671413a8c8 = date("d", $v4d682ec4eed27c53849758bc13b6e179);break;}if(!$v628b7db04235f228d40adc671413a8c8) {$v3b84f8cfd144e7211160037ebacbf0e7 = str_replace(Array($v84cdc76cabf41bd7c961f6ab12f117d8, $v7436f942d5ea836cb84f1bb2527d8286), "", $v522748524ad010358705b6852b81be4c);preg_match("/(\d{1,2})/", $v3b84f8cfd144e7211160037ebacbf0e7, $vfa816edb83e95bf0c8da580bdfd491ef);$v628b7db04235f228d40adc671413a8c8 = isset($vfa816edb83e95bf0c8da580bdfd491ef[1]) ? $vfa816edb83e95bf0c8da580bdfd491ef[1] : NULL;}if(!$v7436f942d5ea836cb84f1bb2527d8286 && !$v628b7db04235f228d40adc671413a8c8 && !$v84cdc76cabf41bd7c961f6ab12f117d8) return 0;if($v628b7db04235f228d40adc671413a8c8 && !$v7436f942d5ea836cb84f1bb2527d8286) {$v7436f942d5ea836cb84f1bb2527d8286 = $v628b7db04235f228d40adc671413a8c8;$v628b7db04235f228d40adc671413a8c8 = 0;}return $vd7e6d55ba379a13d08c25d15faf2a23b = mktime((int) $v73cdddd7730abfc13a55efb9f5685a3b, (int) $v1442a7b6e2c20b27775175eecba84dac, 0, (int) $v7436f942d5ea836cb84f1bb2527d8286, (int) $v628b7db04235f228d40adc671413a8c8, (int) $v84cdc76cabf41bd7c961f6ab12f117d8);}function translit($va43c1b0aa53a0c908810c06ab1ff3967, $v15d61712450a686a7f365adf4fef581f = "R_TO_E") {$v3e396061ea36cab13a403292255e37d6 = Array( "Э", "Ч", "Ш", "Ё", "Ё", "Ж", "Ю", "Ю", "\Я", "\Я", "А", "Б", "В", "Г", "Д", "Е", "З", "И", "Й", "К", "Л", "М", "Н", "О", "П", "Р", "С", "Т", "У", "Ф", "Х", "Ц", "Щ", "Ъ", "Ы", "Ь");$v91e9f0f521a498732fab5a0eeb8d79d1 = Array("э", "ч", "ш", "ё", "ё","ж", "ю", "ю", "я", "я", "а", "б", "в", "г", "д", "е", "з", "и", "й", "к", "л", "м", "н", "о", "п", "р", "с", "т", "у", "ф", "х", "ц", "щ", "ъ", "ы", "ь" );$v09b8f6492e17d9711ec6394f19b427d5 = Array("E\'", "CH", "SH", "YO", "JO", "ZH", "YU", "JU", "YA", "JA", "A","B","V","G","D","E", "Z","I","J","K","L","M","N","O","P","R","S","T","U","F","H","C", "W","~","Y", "\'");$v149cee0bb60980822dd1146be382d6eb = Array("e\'", "ch", "sh", "yo", "jo", "zh", "yu", "ju", "ya", "ja", "a", "b", "v", "g", "d", "e", "z", "i", "j", "k", "l", "m", "n", "o", "p", "r", "s",  "t", "u", "f", "h", "c", "w", "~", "y", "\'");$v26918d22023967c71dc711b48689bcee = Array("Э", "Ч", "Ш", "Ё", "Ё", "Ж", "Ю", "Ю", "Я", "Я", "А", "Б", "В", "Г", "Д", "Е", "З", "И", "Й", "К", "Л", "М", "Н", "О", "П", "Р", "С", "Т", "У", "Ф", "Х", "Ц", "Щ", "Ъ", "Ы", "Ь");$vc2ed3225ce8d87037c449d861b2a9a72 = Array("э", "ч", "ш", "ё", "ё", "ж", "ю", "ю", "я", "я", "а", "б", "в", "г", "д", "е", "з", "и", "й", "к", "л", "м", "н", "о", "п", "р", "с", "т", "у", "ф", "х", "ц", "щ", "ъ", "ы", "ь");$v4805086766da260241b1809e47c4ae1b = Array("E'", "CH", "SH", "YO", "JO", "ZH", "YU", "JU", "YA", "JA", "A", "B", "V", "", "D", "E", "Z", "I", "J", "K", "L", "M", "N", "O", "P", "R", "S", "T", "U", "F", "H", "C", "W", "~", "Y", "'");$v70a71974615f1ab10ed02e2553a4dcf1 = Array("e'", "ch", "sh", "yo", "jo", "zh", "yu", "ju", "ya", "ja", "a", "b", "v", "", "d", "e", "z", "i", "j", "k", "l", "m", "n", "o", "p", "r", "s", "t", "u", "f", "h", "c", "w", "~", "y", "'");$va24b64420eae7ee592a5d87ce7c1c42a = $va43c1b0aa53a0c908810c06ab1ff3967;$v9b207167e5381c47682c6b4f58a623fb = $va43c1b0aa53a0c908810c06ab1ff3967;if($v15d61712450a686a7f365adf4fef581f == "E_TO_R") {if ($va24b64420eae7ee592a5d87ce7c1c42a) {for ($v865c0c0b4ab0e063e5caa3387c1a8741=0;$v865c0c0b4ab0e063e5caa3387c1a8741<sizeof($v70a71974615f1ab10ed02e2553a4dcf1);$v865c0c0b4ab0e063e5caa3387c1a8741++) {$va24b64420eae7ee592a5d87ce7c1c42a = str_replace($v70a71974615f1ab10ed02e2553a4dcf1[$v865c0c0b4ab0e063e5caa3387c1a8741], $v91e9f0f521a498732fab5a0eeb8d79d1[$v865c0c0b4ab0e063e5caa3387c1a8741], $va24b64420eae7ee592a5d87ce7c1c42a);}for ($v865c0c0b4ab0e063e5caa3387c1a8741=0;$v865c0c0b4ab0e063e5caa3387c1a8741<sizeof($v4805086766da260241b1809e47c4ae1b);$v865c0c0b4ab0e063e5caa3387c1a8741++) {$va24b64420eae7ee592a5d87ce7c1c42a = str_replace($v4805086766da260241b1809e47c4ae1b[$v865c0c0b4ab0e063e5caa3387c1a8741], $v3e396061ea36cab13a403292255e37d6[$v865c0c0b4ab0e063e5caa3387c1a8741], $va24b64420eae7ee592a5d87ce7c1c42a);$va24b64420eae7ee592a5d87ce7c1c42a = str_replace($v4805086766da260241b1809e47c4ae1b[$v865c0c0b4ab0e063e5caa3387c1a8741], $v3e396061ea36cab13a403292255e37d6[$v865c0c0b4ab0e063e5caa3387c1a8741], $va24b64420eae7ee592a5d87ce7c1c42a);}$v9b207167e5381c47682c6b4f58a623fb = $va24b64420eae7ee592a5d87ce7c1c42a;}}if($v15d61712450a686a7f365adf4fef581f == "R_TO_E") {if ($va24b64420eae7ee592a5d87ce7c1c42a) {$va24b64420eae7ee592a5d87ce7c1c42a = str_replace($vc2ed3225ce8d87037c449d861b2a9a72, $v149cee0bb60980822dd1146be382d6eb, $va24b64420eae7ee592a5d87ce7c1c42a);$va24b64420eae7ee592a5d87ce7c1c42a = str_replace($v26918d22023967c71dc711b48689bcee, $v149cee0bb60980822dd1146be382d6eb, $va24b64420eae7ee592a5d87ce7c1c42a);$v9b207167e5381c47682c6b4f58a623fb = strtolower($va24b64420eae7ee592a5d87ce7c1c42a);}}$vd98a07f84921b24ee30f86fd8cd85c3c = Array("/", "\\", "'", "\t", "\r\n", "\n", "\"", " ", "?", ".");$v01b6e20344b68835c5ed1ddedf20d531 = Array("", "", "", "", "", "", "", "_", "", "");$v9b207167e5381c47682c6b4f58a623fb = str_replace($vd98a07f84921b24ee30f86fd8cd85c3c, $v01b6e20344b68835c5ed1ddedf20d531, $v9b207167e5381c47682c6b4f58a623fb);$v9b207167e5381c47682c6b4f58a623fb = preg_replace("/[ ]+/", "_", $v9b207167e5381c47682c6b4f58a623fb);return $v9b207167e5381c47682c6b4f58a623fb;}function system_parse_short_calls($v9b207167e5381c47682c6b4f58a623fb, $v7057e8409c7c531a1a6e9ac3df4ed549 = false, $vaf31437ce61345f416579830a98c91e5 = false, $vf7c0b9f29873bcb1daa361baa7a89b38 = array()) {if(!is_string($v9b207167e5381c47682c6b4f58a623fb) || (strpos($v9b207167e5381c47682c6b4f58a623fb, "%") === false)) return $v9b207167e5381c47682c6b4f58a623fb;$v594c103f2c6e04c3d8ab059f031e0c1a = cmsController::getInstance();$vaff82898df44626b45c1db972ca61d6e = umiObjectsCollection::getInstance();$v7eac10e56aecdee23bcc96aa52972dde = (strpos($v9b207167e5381c47682c6b4f58a623fb, "%scope%") !== false);$v8e2dcfd7e7e24b1ca76c1193f645902b = NULL;$va8cfde6331bd59eb2ac96f8911c4b666 = NULL;if($v7057e8409c7c531a1a6e9ac3df4ed549 === false && $vaf31437ce61345f416579830a98c91e5 === false) {$v7057e8409c7c531a1a6e9ac3df4ed549 = $v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentElementId();}if(strpos($v9b207167e5381c47682c6b4f58a623fb, "id%") !== false) {$v9b207167e5381c47682c6b4f58a623fb = str_replace("%id%", $v7057e8409c7c531a1a6e9ac3df4ed549, $v9b207167e5381c47682c6b4f58a623fb);$v9b207167e5381c47682c6b4f58a623fb = str_replace("%pid%", $v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentElementId(), $v9b207167e5381c47682c6b4f58a623fb);}if($v7057e8409c7c531a1a6e9ac3df4ed549 !== false) {if(!($v8e2dcfd7e7e24b1ca76c1193f645902b = umiHierarchy::getInstance()->getElement($v7057e8409c7c531a1a6e9ac3df4ed549))) {return $v9b207167e5381c47682c6b4f58a623fb;}else {$va8cfde6331bd59eb2ac96f8911c4b666 = $v8e2dcfd7e7e24b1ca76c1193f645902b->getObject();}}if($vaf31437ce61345f416579830a98c91e5 !== false) {if(!($va8cfde6331bd59eb2ac96f8911c4b666 = $vaff82898df44626b45c1db972ca61d6e->getObject($vaf31437ce61345f416579830a98c91e5))) {return $v9b207167e5381c47682c6b4f58a623fb;}}if(!$va8cfde6331bd59eb2ac96f8911c4b666) return $v9b207167e5381c47682c6b4f58a623fb;$v87306dd4235ed712ebc07fe169b76f83 = $va8cfde6331bd59eb2ac96f8911c4b666->getTypeId();$v7ae7003da59ae71dcc9f8638ef50593d = umiObjectTypesCollection::getInstance()->getType($v87306dd4235ed712ebc07fe169b76f83);if($v7eac10e56aecdee23bcc96aa52972dde) {$vd05b6ed7d2345020440df396d6da7f73 = $v7ae7003da59ae71dcc9f8638ef50593d->getAllFields();foreach($vd05b6ed7d2345020440df396d6da7f73 as $v06e3d36fa30cea095545139854ad1fb9) {$vb068931cc450442b63f5b3d276ea4297 = $v06e3d36fa30cea095545139854ad1fb9->getName();$vf7c0b9f29873bcb1daa361baa7a89b38[$vb068931cc450442b63f5b3d276ea4297] = $va8cfde6331bd59eb2ac96f8911c4b666->getValue($vb068931cc450442b63f5b3d276ea4297);}$v9b207167e5381c47682c6b4f58a623fb = str_replace("%scope%", system_print_template_scope($vf7c0b9f29873bcb1daa361baa7a89b38), $v9b207167e5381c47682c6b4f58a623fb);}if(preg_match_all("/%([A-z0-9\-_]*)%/", $v9b207167e5381c47682c6b4f58a623fb, $vc68271a63ddbc431c307beb7d2918275)) {foreach($vc68271a63ddbc431c307beb7d2918275[1] as $vfdb247e9e403c4f538e0942a2dac7d4c) {if($v7ae7003da59ae71dcc9f8638ef50593d->getFieldId($vfdb247e9e403c4f538e0942a2dac7d4c) != false) {$v3a6d0284e743dc4a9b86f97d6dd1a3bf = $va8cfde6331bd59eb2ac96f8911c4b666->getValue($vfdb247e9e403c4f538e0942a2dac7d4c);if(is_object($v3a6d0284e743dc4a9b86f97d6dd1a3bf)) {if($v3a6d0284e743dc4a9b86f97d6dd1a3bf instanceof umiDate) {$v3a6d0284e743dc4a9b86f97d6dd1a3bf = $v3a6d0284e743dc4a9b86f97d6dd1a3bf->getFormattedDate("U");}if($v3a6d0284e743dc4a9b86f97d6dd1a3bf instanceof umiFile) {$v3a6d0284e743dc4a9b86f97d6dd1a3bf = $v3a6d0284e743dc4a9b86f97d6dd1a3bf->getFilePath(true);}if($v3a6d0284e743dc4a9b86f97d6dd1a3bf instanceof umiHierarchy) {$v3a6d0284e743dc4a9b86f97d6dd1a3bf = $v3a6d0284e743dc4a9b86f97d6dd1a3bf->getName();}}if(is_array($v3a6d0284e743dc4a9b86f97d6dd1a3bf)) {$v2063c1608d6e0baf80249c42e2be5804 = "";$v7dabf5c198b0bab2eaa42bb03a113e55 = sizeof($v3a6d0284e743dc4a9b86f97d6dd1a3bf);for($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < $v7dabf5c198b0bab2eaa42bb03a113e55;$v865c0c0b4ab0e063e5caa3387c1a8741++) {$vf19e92e810d08b6cf2d0265b779064d9 = $v3a6d0284e743dc4a9b86f97d6dd1a3bf[$v865c0c0b4ab0e063e5caa3387c1a8741];if(is_numeric($vf19e92e810d08b6cf2d0265b779064d9)) {if($vbe8f80182e0c983916da7338c2c1c040 = $vaff82898df44626b45c1db972ca61d6e->getObject($vf19e92e810d08b6cf2d0265b779064d9)) {$vf19e92e810d08b6cf2d0265b779064d9 = $vbe8f80182e0c983916da7338c2c1c040->getName();unset($vbe8f80182e0c983916da7338c2c1c040);}else continue;}if($vf19e92e810d08b6cf2d0265b779064d9 instanceof umiHierarchyElement) {$vf19e92e810d08b6cf2d0265b779064d9 = $vf19e92e810d08b6cf2d0265b779064d9->getName();}$v2063c1608d6e0baf80249c42e2be5804 .= $vf19e92e810d08b6cf2d0265b779064d9;if($v865c0c0b4ab0e063e5caa3387c1a8741 < ($v7dabf5c198b0bab2eaa42bb03a113e55 - 1)) $v2063c1608d6e0baf80249c42e2be5804 .= ", ";}$v3a6d0284e743dc4a9b86f97d6dd1a3bf = $v2063c1608d6e0baf80249c42e2be5804;}if(strpos($v3a6d0284e743dc4a9b86f97d6dd1a3bf, "%") !== false ) {$v3a6d0284e743dc4a9b86f97d6dd1a3bf = templater::getInstance()->parseInput($v3a6d0284e743dc4a9b86f97d6dd1a3bf);}$v9b207167e5381c47682c6b4f58a623fb = str_replace("%" . $vfdb247e9e403c4f538e0942a2dac7d4c . "%", $v3a6d0284e743dc4a9b86f97d6dd1a3bf, $v9b207167e5381c47682c6b4f58a623fb);}}}if(strpos($v9b207167e5381c47682c6b4f58a623fb, "id%") !== false) {$v9b207167e5381c47682c6b4f58a623fb = str_replace("%id%", $v7057e8409c7c531a1a6e9ac3df4ed549, $v9b207167e5381c47682c6b4f58a623fb);$v9b207167e5381c47682c6b4f58a623fb = str_replace("%pid%", $v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentElementId(), $v9b207167e5381c47682c6b4f58a623fb);}return $v9b207167e5381c47682c6b4f58a623fb;}function system_print_template_scope($vf7c0b9f29873bcb1daa361baa7a89b38, $v77abb8285d9109fa3adaa962b1d8312f = false) {list($v14511f2f5564650d129ca7cabc333278, $v6f493ab3d3cafc90de6606e1d559cb97, $vae044de305b3ae44fc378dfe0e95b101) = def_module::loadTemplates("system/reflection", "scope_dump_block", "scope_dump_line_variable", "scope_dump_line_macro");$v8c872b0c9f80fb4709c8e137d5d2191a = "";foreach($vf7c0b9f29873bcb1daa361baa7a89b38 as $vb068931cc450442b63f5b3d276ea4297 => $v2063c1608d6e0baf80249c42e2be5804) {if($vb068931cc450442b63f5b3d276ea4297 == "#meta") continue;if(is_array($v2063c1608d6e0baf80249c42e2be5804)) {$vfa816edb83e95bf0c8da580bdfd491ef = str_replace("%name%", $vb068931cc450442b63f5b3d276ea4297, $vae044de305b3ae44fc378dfe0e95b101);}else {$vfa816edb83e95bf0c8da580bdfd491ef = $v6f493ab3d3cafc90de6606e1d559cb97;$vfa816edb83e95bf0c8da580bdfd491ef = str_replace("%name%", $vb068931cc450442b63f5b3d276ea4297, $vfa816edb83e95bf0c8da580bdfd491ef);$vfa816edb83e95bf0c8da580bdfd491ef = str_replace("%type%", gettype($v2063c1608d6e0baf80249c42e2be5804), $vfa816edb83e95bf0c8da580bdfd491ef);$vfa816edb83e95bf0c8da580bdfd491ef = str_replace("%value%", htmlspecialchars($v2063c1608d6e0baf80249c42e2be5804), $vfa816edb83e95bf0c8da580bdfd491ef);}$v8c872b0c9f80fb4709c8e137d5d2191a .= $vfa816edb83e95bf0c8da580bdfd491ef;}if(isset($vf7c0b9f29873bcb1daa361baa7a89b38["#meta"])) {$v77abb8285d9109fa3adaa962b1d8312f = isset($vf7c0b9f29873bcb1daa361baa7a89b38["#meta"]["name"]) ? $vf7c0b9f29873bcb1daa361baa7a89b38["#meta"]["name"] : "";$vf6b5fef6cb1ab808d349cc3bd4e14816 = isset($vf7c0b9f29873bcb1daa361baa7a89b38["#meta"]["file"]) ? $vf7c0b9f29873bcb1daa361baa7a89b38["#meta"]["file"] : "";}else {$v77abb8285d9109fa3adaa962b1d8312f = "";$vf6b5fef6cb1ab808d349cc3bd4e14816 = "";}$v14511f2f5564650d129ca7cabc333278 = str_replace("%lines%", $v8c872b0c9f80fb4709c8e137d5d2191a, $v14511f2f5564650d129ca7cabc333278);$v14511f2f5564650d129ca7cabc333278 = str_replace("%block_name%", $v77abb8285d9109fa3adaa962b1d8312f, $v14511f2f5564650d129ca7cabc333278);$v14511f2f5564650d129ca7cabc333278 = str_replace("%block_file%", $vf6b5fef6cb1ab808d349cc3bd4e14816, $v14511f2f5564650d129ca7cabc333278);$v14511f2f5564650d129ca7cabc333278 = preg_replace("/%[A-z0-9_]+%/i", "", $v14511f2f5564650d129ca7cabc333278);return $v14511f2f5564650d129ca7cabc333278;}function getPrintableTpl($_sTplName) {if(!isset($_GET['print'])) {return $_sTplName;}$vf604cb7936b847e102de8bf7396a80e2 = substr($vf9bdb7221804d6d17b654ec67c5a0735, 0, strrpos($vf9bdb7221804d6d17b654ec67c5a0735, '.')) . '.print.tpl';return (file_exists('tpls/content/'.$vf604cb7936b847e102de8bf7396a80e2)) ? $vf604cb7936b847e102de8bf7396a80e2 : $_sTplName;}function is_demo() {return defined('CURRENT_VERSION_LINE') and strtolower(CURRENT_VERSION_LINE) == 'demo';}function detectCharset($v19a97ad5524a2d14e58b104936effbde) {if (preg_match("/[\x{0000}-\x{FFFF}]+/u", $v19a97ad5524a2d14e58b104936effbde)) return 'UTF-8';$va985177e18afdab154ab615657ef1514 = 'CP1251';if (!function_exists('iconv')) return $va985177e18afdab154ab615657ef1514;$vc8a02849a395786b0162365c9c8e285d = array(   'CP1251',   'ISO-8859-5',   'KOI8-R',   'UTF-8',   'CP866'  );if(function_exists("mb_detect_encoding")) {return mb_detect_encoding($v19a97ad5524a2d14e58b104936effbde, implode(", ",$vc8a02849a395786b0162365c9c8e285d));}else {return "UTF-8";}}function checkAllowedDiskSize($v4b3a6218bb3e3a7303e8a171a60fcf92=false, $v33030abc929f083da5f6c3f755b46034 = array('/images', '/files')) {if ($v4b3a6218bb3e3a7303e8a171a60fcf92==false) {return false;}$v4290bf7e707d9552c735e5bcc4a8edb3 = mainConfiguration::getInstance()->get('system', 'quota-files-and-images');if ($v4290bf7e707d9552c735e5bcc4a8edb3==0) {return true;}$v4290bf7e707d9552c735e5bcc4a8edb3 = getBytesFromString($v4290bf7e707d9552c735e5bcc4a8edb3);$v1105d5ffdd5622b43f4a0b16afb0e886 = getBusyDiskSize($v33030abc929f083da5f6c3f755b46034);return $v4290bf7e707d9552c735e5bcc4a8edb3>=$v1105d5ffdd5622b43f4a0b16afb0e886+$v4b3a6218bb3e3a7303e8a171a60fcf92;}function getBusyDiskSize($v33030abc929f083da5f6c3f755b46034 = array('/images', '/files')) {clearstatcache();$v1105d5ffdd5622b43f4a0b16afb0e886 = 0;foreach($v33030abc929f083da5f6c3f755b46034 as $v736007832d2167baaae763fd3a3f3cf1) {$v1105d5ffdd5622b43f4a0b16afb0e886 += getDirSize(CURRENT_WORKING_DIR.$v736007832d2167baaae763fd3a3f3cf1);}return $v1105d5ffdd5622b43f4a0b16afb0e886;}function getBytesFromString($v341be97d9aff90c9978347f66f945b77) {if(empty($v341be97d9aff90c9978347f66f945b77)) return 0;$v341be97d9aff90c9978347f66f945b77 = str_replace(' ', '', strtolower($v341be97d9aff90c9978347f66f945b77));$v4b3a6218bb3e3a7303e8a171a60fcf92 = $v341be97d9aff90c9978347f66f945b77;if( strpos( $v341be97d9aff90c9978347f66f945b77, 'kb') ) {$v4b3a6218bb3e3a7303e8a171a60fcf92 = (int) str_replace( 'kb', '', $v341be97d9aff90c9978347f66f945b77) * 1024;}if( strpos( $v341be97d9aff90c9978347f66f945b77, 'k') ) {$v4b3a6218bb3e3a7303e8a171a60fcf92 = (int) str_replace( 'k', '', $v341be97d9aff90c9978347f66f945b77) * 1024;}if( strpos( $v341be97d9aff90c9978347f66f945b77, 'mb') ) {$v4b3a6218bb3e3a7303e8a171a60fcf92 = (int) str_replace( 'mb', '', $v341be97d9aff90c9978347f66f945b77) * 1024 * 1024;}if( strpos( $v341be97d9aff90c9978347f66f945b77, 'm') ) {$v4b3a6218bb3e3a7303e8a171a60fcf92 = (int) str_replace( 'm', '', $v341be97d9aff90c9978347f66f945b77) * 1024 * 1024;}if( strpos( $v341be97d9aff90c9978347f66f945b77, 'gb') ) {$v4b3a6218bb3e3a7303e8a171a60fcf92 = (int) str_replace( 'gb', '', $v341be97d9aff90c9978347f66f945b77) * 1024 * 1024 * 1024;}if( strpos( $v341be97d9aff90c9978347f66f945b77, 'g') ) {$v4b3a6218bb3e3a7303e8a171a60fcf92 = (int) str_replace( 'g', '', $v341be97d9aff90c9978347f66f945b77) * 1024 * 1024 * 1024;}return $v4b3a6218bb3e3a7303e8a171a60fcf92;}function getDirSize($vd6fe1d0be6347b8ef2427fa629c04485) {$vf7bd60b75b29d79b660a2859395c1a24 = 0;if (substr($vd6fe1d0be6347b8ef2427fa629c04485, -1, 1) !== DIRECTORY_SEPARATOR) {$vd6fe1d0be6347b8ef2427fa629c04485 .= DIRECTORY_SEPARATOR;}if (is_file($vd6fe1d0be6347b8ef2427fa629c04485)) {return filesize($vd6fe1d0be6347b8ef2427fa629c04485);}elseif (!is_dir($vd6fe1d0be6347b8ef2427fa629c04485)) {return false;}$va9d1cbf71942327e98b40cf5ef38a960 = array($vd6fe1d0be6347b8ef2427fa629c04485);for ($v865c0c0b4ab0e063e5caa3387c1a8741 = 0, $v363b122c528f54df4a0446b6bab05515 = count($va9d1cbf71942327e98b40cf5ef38a960);$v865c0c0b4ab0e063e5caa3387c1a8741 < $v363b122c528f54df4a0446b6bab05515;++$v865c0c0b4ab0e063e5caa3387c1a8741)  {$vd0e45878043844ffc41aac437e86b602 = $v865c0c0b4ab0e063e5caa3387c1a8741;if (is_dir($va9d1cbf71942327e98b40cf5ef38a960[$v865c0c0b4ab0e063e5caa3387c1a8741]) && $v736007832d2167baaae763fd3a3f3cf1 = @dir($va9d1cbf71942327e98b40cf5ef38a960[$v865c0c0b4ab0e063e5caa3387c1a8741])) {$vb984798e3539eb1bfe8eaa2096ce4d12 = array();while (false !== ($v1043bfc77febe75fafec0c4309faccf1 = $v736007832d2167baaae763fd3a3f3cf1->read())) {if ($v1043bfc77febe75fafec0c4309faccf1 == '.' || $v1043bfc77febe75fafec0c4309faccf1 == '..') {continue;}$vd6fe1d0be6347b8ef2427fa629c04485 = $va9d1cbf71942327e98b40cf5ef38a960[$v865c0c0b4ab0e063e5caa3387c1a8741] . $v1043bfc77febe75fafec0c4309faccf1;if (is_dir($vd6fe1d0be6347b8ef2427fa629c04485)) {$vd6fe1d0be6347b8ef2427fa629c04485 .= DIRECTORY_SEPARATOR;$vb984798e3539eb1bfe8eaa2096ce4d12[] = $vd6fe1d0be6347b8ef2427fa629c04485;}elseif (is_file($vd6fe1d0be6347b8ef2427fa629c04485)) {$vf7bd60b75b29d79b660a2859395c1a24 += filesize($vd6fe1d0be6347b8ef2427fa629c04485);}}unset($va9d1cbf71942327e98b40cf5ef38a960[0]);$va9d1cbf71942327e98b40cf5ef38a960 = array_merge($vb984798e3539eb1bfe8eaa2096ce4d12, $va9d1cbf71942327e98b40cf5ef38a960);$v865c0c0b4ab0e063e5caa3387c1a8741 = -1;$v363b122c528f54df4a0446b6bab05515 = count($va9d1cbf71942327e98b40cf5ef38a960);$v736007832d2167baaae763fd3a3f3cf1->close();unset($v736007832d2167baaae763fd3a3f3cf1);}}return $vf7bd60b75b29d79b660a2859395c1a24;}function checkFileForReading($vd6fe1d0be6347b8ef2427fa629c04485, $vd49d3d4a895e455aa4c77af5377559dd = array()) {$vd6fe1d0be6347b8ef2427fa629c04485 = realpath($vd6fe1d0be6347b8ef2427fa629c04485);if( !file_exists($vd6fe1d0be6347b8ef2427fa629c04485) ) {return false;}$vd6fe1d0be6347b8ef2427fa629c04485 = str_replace("\\", "/", $vd6fe1d0be6347b8ef2427fa629c04485);$va93b85dcfbb9969f5bb3c6be71737ed5 = pathinfo($vd6fe1d0be6347b8ef2427fa629c04485);if(strpos ($vd6fe1d0be6347b8ef2427fa629c04485, CURRENT_WORKING_DIR) !== 0 ) {return false;}if( $va93b85dcfbb9969f5bb3c6be71737ed5['filename'] == '.htaccess' || $va93b85dcfbb9969f5bb3c6be71737ed5['filename'] == '.htpasswd') {return false;}if( sizeof($vd49d3d4a895e455aa4c77af5377559dd) && !in_array($va93b85dcfbb9969f5bb3c6be71737ed5['extension'],$vd49d3d4a895e455aa4c77af5377559dd)) {return false;}return true;}function system_is_mobile() {if (isset($_COOKIE['is_mobile'])) {return getCookie('is_mobile');}$v33c0ee425e2c0efe834afc1aa1e33a4c = "/(windows\sce|android|symbian|series60|ip[ao]d|phone" .   "|blackberry|opera\sm[io][nb]i|netfront|obigo|maemo|[pc].brow" .   "|up\.link|wap|^noki|^htc|^mot|ericsson|samsu|psp|ppc)/i";switch (false) {case (is_null(getServer('HTTP_PROFILE'))) : return true;case (is_null(getServer('HTTP_X_WAP_PROFILE'))) : return true;case (strpos(getServer('HTTP_ACCEPT'), 'vnd.wap') == false) : return true;case (preg_match($v33c0ee425e2c0efe834afc1aa1e33a4c, getServer('HTTP_USER_AGENT')) == false) : return true;default : return false;}}?>